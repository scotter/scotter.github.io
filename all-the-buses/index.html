<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=1000">
<title>All the Buses</title>
<style>
  iframe {
    border: solid 1px #eee;
  }

</style>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<body>

  <div class="container">
    <h1>All the Buses</h1>
    <div class="index">
      <iframe sandbox="allow-scripts allow-forms allow-same-origin" src="./canvas.html" marginwidth="0" marginheight="0" style="height:500px; width: 100%;" scrolling="no"></iframe>
    </div>
    <div class="text-right">
      <p>
        <a target="_blank" title="Open a new window." href="./canvas.html">Open</a>
      </p>
    </div>

    <div>
      <p>A visualization of the positions of Pittsburgh transit (<a href="https://www.portauthority.org" target="_blank">Port Authority of Allegheny County</a>) buses and trolleys on weekdays from January to March 2016. Route and bus colors correspond to the Port Authority's <a href="https://en.wikipedia.org/wiki/List_of_bus_routes_in_Pittsburgh#Route_renumbering_and_realignments" target="_blank">light rail and busway color designations</a>.</p>

      <p>Vehicle position data was extracted from the Port Authority's <a href="http://www.portauthority.org/paac/CompanyInfoProjects/DeveloperResources.aspx" target="_blank">GTFS files</a>. Using PostGIS along with stop and route data, vehicle positions were computed for each minute of the day.</p>

      <p>The routes are displayed on an SVG layer using <a href="http://www.d3js.org" target="_blank">d3.js</a>, while the circles are animated on a canvas layer. Each frame interpolates all vehicles' position between minutes to make the animation smooth.</p>
      <p>There are a few data anomalies where vehicles jump between positions. This is either due to errors when computing the nearest points on the routes or errors in the data.</p>
    </div>

  </div>